<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nightz Demo - Tokenized Luxury Stays</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Enhanced Design System */
        :root {
            --primary-blue: #2563eb;
            --primary-dark: #0f172a;
            --card-bg: #1e293b;
            --text-light: #f1f5f9;
            --text-muted: #94a3b8;
            --border: #334155;
            --success: #10b981;
            --accent: #8b5cf6;
            --warning: #f59e0b;
            --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }
        
        body {
            background: var(--primary-dark);
            color: var(--text-light);
            min-height: 100vh;
            overflow-x: hidden;
            font-weight: 400;
            line-height: 1.6;
        }

        /* Demo Banner */
        .demo-banner {
            background: linear-gradient(90deg, var(--accent), var(--primary-blue));
            color: white;
            text-align: center;
            padding: 0.75rem;
            font-size: 0.9rem;
            font-weight: 500;
            position: relative;
            overflow: hidden;
        }
        
        .demo-banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shimmer 3s infinite;
        }
        
        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Enhanced Navigation - Mobile First */
        .navbar {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            padding: 1rem;
            border-bottom: 1px solid var(--border);
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(10px);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .nav-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .nav-logo {
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .nav-logo::before {
            content: 'ðŸŒ™';
            font-size: 1.5rem;
        }
        
        .nav-links {
            display: flex;
            gap: 0.5rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
            -webkit-overflow-scrolling: touch;
        }
        
        .nav-links::-webkit-scrollbar {
            display: none;
        }
        
        .nav-links a {
            color: var(--text-light);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            white-space: nowrap;
            font-size: 0.9rem;
        }
        
        .nav-links a.active {
            background: var(--primary-blue);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
        }
        
        .nav-links a:not(.active):hover {
            background: rgba(255,255,255,0.1);
            transform: translateY(-2px);
        }
        
        .nav-links a .nav-badge {
            background: var(--accent);
            color: white;
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
            border-radius: 10px;
            margin-left: 0.25rem;
        }
        
        .nav-right {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .search-bar {
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 0.5rem 1rem;
            color: var(--text-light);
            transition: all 0.3s;
            width: 150px;
            font-weight: 400;
            font-size: 0.9rem;
        }
        
        .search-bar:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
            width: 180px;
        }
        
        .connect-wallet {
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 0.6rem 1rem;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }
        
        .connect-wallet:hover {
            background: #1d4ed8;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(37, 99, 235, 0.3);
        }

        /* Main Container */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem;
        }

        /* Page System */
        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .page.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Enhanced Trade Layout - Mobile First */
        .trade-hero {
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
        }
        
        .trade-hero h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--text-light), var(--primary-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: fadeInUp 0.8s ease;
        }
        
        .trade-hero p {
            font-size: 1rem;
            color: var(--text-muted);
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            animation: fadeInUp 0.8s ease 0.2s both;
            font-weight: 400;
        }

        /* Interactive Trade Dashboard */
        .trade-dashboard {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .trade-main {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid var(--border);
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        .trade-sidebar {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        /* Enhanced Swap Interface */
        .swap-interface {
            background: rgba(255,255,255,0.03);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid var(--border);
            margin-bottom: 1.5rem;
        }
        
        .swap-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .swap-title {
            font-size: 1.25rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .swap-box {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 1px solid transparent;
            transition: all 0.3s;
            position: relative;
        }
        
        .swap-box:focus-within {
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
        }
        
        .swap-box-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .swap-label {
            font-weight: 600;
            font-size: 1rem;
        }
        
        .balance {
            color: var(--text-muted);
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }
        
        .token-input-row {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .token-amount {
            flex: 1;
            background: none;
            border: none;
            color: var(--text-light);
            font-size: 1.5rem;
            outline: none;
            font-weight: 600;
            width: 100%;
            min-width: 0;
        }
        
        .token-amount::placeholder {
            color: var(--text-muted);
        }
        
        .token-selector {
            background: var(--primary-dark);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 0.5rem 0.75rem;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            min-width: 90px;
            font-size: 0.9rem;
        }
        
        .token-selector:hover {
            border-color: var(--primary-blue);
        }
        
        .percentage-buttons {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .percent-btn {
            flex: 1;
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border);
            color: var(--text-light);
            padding: 0.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            font-size: 0.8rem;
        }
        
        .percent-btn:hover {
            background: rgba(255,255,255,0.1);
        }
        
        .percent-btn.active {
            background: var(--primary-blue);
            border-color: var(--primary-blue);
        }
        
        .swap-arrow {
            text-align: center;
            margin: 0.5rem 0;
        }
        
        .swap-arrow-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: var(--primary-blue);
            color: white;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
            border: none;
            font-size: 1rem;
        }
        
        .swap-arrow-btn:hover {
            background: #1d4ed8;
            transform: rotate(180deg);
        }
        
        .swap-details {
            background: rgba(255,255,255,0.03);
            border-radius: 12px;
            padding: 1rem;
            margin-top: 1.5rem;
        }
        
        .detail-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.75rem;
            font-size: 0.9rem;
        }
        
        .detail-label {
            color: var(--text-muted);
        }
        
        .detail-value {
            font-weight: 500;
        }
        
        .swap-button {
            width: 100%;
            background: var(--primary-blue);
            color: white;
            border: none;
            padding: 1rem;
            border-radius: 12px;
            font-size: 1rem;
            cursor: pointer;
            margin-top: 1.5rem;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .swap-button:hover:not(:disabled) {
            background: #1d4ed8;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.3);
        }
        
        .swap-button:disabled {
            background: var(--text-muted);
            cursor: not-allowed;
            transform: none;
        }
        
        .swap-button.success {
            background: var(--success);
        }

        /* Enhanced Transaction History */
        .transaction-history {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid var(--border);
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow-x: auto;
        }
        
        .history-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .history-title {
            font-size: 1.25rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .history-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 500px;
        }
        
        .history-table th {
            text-align: left;
            padding: 0.75rem;
            color: var(--text-muted);
            border-bottom: 1px solid var(--border);
            font-weight: 500;
            font-size: 0.8rem;
        }
        
        .history-table td {
            padding: 0.75rem;
            border-bottom: 1px solid var(--border);
            transition: all 0.3s;
            font-size: 0.9rem;
        }
        
        .history-table tr {
            transition: all 0.3s;
        }
        
        .history-table tr:hover {
            background: rgba(255,255,255,0.03);
        }
        
        .tx-type {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
        }
        
        .tx-amount {
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .tx-positive {
            color: var(--success);
        }
        
        .tx-negative {
            color: #ef4444;
        }
        
        .tx-date {
            color: var(--text-muted);
            font-size: 0.8rem;
        }

        /* Enhanced Sidebar Components */
        .portfolio-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid var(--border);
        }
        
        .portfolio-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .portfolio-title {
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .portfolio-value {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--text-light), var(--primary-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .token-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .token-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            background: rgba(255,255,255,0.03);
            border-radius: 12px;
            transition: all 0.3s;
        }
        
        .token-item:hover {
            background: rgba(255,255,255,0.06);
            transform: translateY(-2px);
        }
        
        .token-info {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }
        
        .token-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
            font-size: 0.9rem;
        }
        
        .token-details {
            display: flex;
            flex-direction: column;
        }
        
        .token-name {
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .token-balance {
            color: var(--text-muted);
            font-size: 0.8rem;
        }
        
        .token-value {
            font-weight: 600;
            font-size: 0.9rem;
        }

        /* Explore Page Styles */
        .explore-hero {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .explore-hero h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--text-light), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .explore-hero p {
            font-size: 1rem;
            color: var(--text-muted);
            margin-bottom: 2rem;
        }
        
        .properties-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1.5rem;
        }
        
        .property-card {
            background: var(--card-bg);
            border-radius: 16px;
            overflow: hidden;
            border: 1px solid var(--border);
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .property-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border-color: var(--primary-blue);
        }
        
        .property-image {
            height: 160px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 1.25rem;
            position: relative;
        }
        
        .property-content {
            padding: 1.5rem;
        }
        
        .property-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: 1.5rem;
        }
        
        .property-btn {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid var(--border);
            background: none;
            color: var(--text-light);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .property-btn.primary {
            background: var(--primary-blue);
            border-color: var(--primary-blue);
        }
        
        .property-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        /* Pool Page Styles */
        .pool-hero {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .pool-hero h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--text-light), var(--primary-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .pool-hero p {
            font-size: 1rem;
            color: var(--text-muted);
            margin-bottom: 2rem;
        }
        
        .pool-interface {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid var(--border);
        }
        
        .pool-inputs {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        
        .pool-box {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 1.5rem;
        }
        
        .pool-details {
            background: rgba(255,255,255,0.05);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        /* Book Page Styles */
        .book-hero {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .book-hero h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--text-light), var(--success));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .book-hero p {
            font-size: 1rem;
            color: var(--text-muted);
            margin-bottom: 2rem;
        }
        
        .booking-flow {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .property-details {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid var(--border);
        }
        
        .booking-form {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid var(--border);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .form-input {
            width: 100%;
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            color: var(--text-light);
            transition: all 0.3s;
            font-size: 1rem;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
        }
        
        .date-inputs {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        /* Success States & Animations */
        .success-message {
            background: var(--success);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            margin: 1rem 0;
            text-align: center;
            display: none;
            animation: fadeIn 0.5s ease;
            font-weight: 500;
            font-size: 0.9rem;
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Demo Indicator */
        .demo-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--accent);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 12px;
            font-weight: 500;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        /* Toast Notifications */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            color: var(--text-light);
            padding: 1rem 1.5rem;
            border-radius: 12px;
            z-index: 1001;
            animation: slideInRight 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            border-left: 4px solid var(--primary-blue);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            max-width: 300px;
            font-size: 0.9rem;
        }
        
        .toast.success {
            border-left-color: var(--success);
        }
        
        .toast.warning {
            border-left-color: var(--warning);
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Connected state */
        .connected-address {
            background: var(--primary-dark);
            padding: 0.5rem 1rem;
            border-radius: 12px;
            font-family: 'Monaco', 'Consolas', monospace;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border: 1px solid var(--primary-blue);
            font-size: 0.8rem;
        }
        
        .network-indicator {
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        /* ========== MEDIA QUERIES ========== */
        
        /* Tablet and larger mobile */
        @media (min-width: 640px) {
            .navbar {
                flex-direction: row;
                justify-content: space-between;
                padding: 1rem 1.5rem;
            }
            
            .nav-top {
                flex: 1;
            }
            
            .nav-links {
                overflow-x: visible;
                padding-bottom: 0;
            }
            
            .search-bar {
                width: 180px;
            }
            
            .properties-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .date-inputs {
                flex-direction: row;
            }
            
            .pool-inputs {
                flex-direction: row;
            }
        }

        /* Small desktop */
        @media (min-width: 768px) {
            .main-container {
                padding: 1.5rem;
            }
            
            .trade-hero h1 {
                font-size: 2.5rem;
            }
            
            .explore-hero h1,
            .pool-hero h1,
            .book-hero h1 {
                font-size: 2.5rem;
            }
            
            .trade-dashboard {
                flex-direction: row;
            }
            
            .trade-main {
                flex: 2;
            }
            
            .trade-sidebar {
                flex: 1;
                max-width: 350px;
            }
            
            .booking-flow {
                flex-direction: row;
            }
            
            .property-details {
                flex: 1;
            }
            
            .booking-form {
                flex: 1;
            }
            
            .token-amount {
                font-size: 1.75rem;
            }
        }

        /* Desktop */
        @media (min-width: 1024px) {
            .navbar {
                padding: 1rem 2rem;
            }
            
            .main-container {
                padding: 2rem;
            }
            
            .trade-hero h1 {
                font-size: 3rem;
            }
            
            .explore-hero h1,
            .pool-hero h1,
            .book-hero h1 {
                font-size: 3rem;
            }
            
            .properties-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .token-amount {
                font-size: 2rem;
            }
        }

        /* Large desktop */
        @media (min-width: 1280px) {
            .trade-dashboard {
                gap: 2rem;
            }
            
            .trade-main {
                padding: 2rem;
            }
            
            .swap-interface {
                padding: 2rem;
            }
            
            .properties-grid {
                gap: 2rem;
            }
        }

        /* Extra small mobile adjustments */
        @media (max-width: 360px) {
            .nav-logo {
                font-size: 1.25rem;
            }
            
            .search-bar {
                width: 120px;
            }
            
            .connect-wallet {
                padding: 0.5rem 0.75rem;
                font-size: 0.8rem;
            }
            
            .token-amount {
                font-size: 1.25rem;
            }
            
            .token-selector {
                min-width: 80px;
                font-size: 0.8rem;
                padding: 0.4rem 0.6rem;
            }
            
            .percentage-buttons {
                flex-wrap: wrap;
            }
            
            .percent-btn {
                flex: 1 0 40%;
            }
        }
    </style>
</head>
<body>
    <!-- Demo Banner -->
    <div class="demo-banner">
        ðŸš€ INTERACTIVE DEMO - This is a functional prototype. Connect wallet to enable all features.
    </div>

    <!-- Enhanced Navigation - Mobile Optimized -->
    <nav class="navbar">
        <div class="nav-top">
            <div class="nav-logo">Nightz</div>
            <div class="nav-right">
                <input type="text" class="search-bar" placeholder="Search...">
                <button class="connect-wallet" id="connectWallet">
                    <i class="fas fa-wallet"></i>
                    Connect
                </button>
            </div>
        </div>
        <div class="nav-links">
            <a href="#" class="nav-link active" data-page="trade">
                <i class="fas fa-exchange-alt"></i>
                Trade
                <span class="nav-badge">Live</span>
            </a>
            <a href="#" class="nav-link" data-page="explore">
                <i class="fas fa-compass"></i>
                Explore
            </a>
            <a href="#" class="nav-link" data-page="pool">
                <i class="fas fa-water"></i>
                Pool
            </a>
            <a href="#" class="nav-link" data-page="book">
                <i class="fas fa-calendar-check"></i>
                Book
            </a>
        </div>
    </nav>

    <!-- Trade Page (Default & Focus) -->
    <section id="trade-page" class="page active">
        <div class="main-container">
            <!-- Trade Hero -->
            <div class="trade-hero">
                <h1>Trade Tokenized Stays</h1>
                <p>Swap between USDT and NIGHTZ tokens to unlock luxury properties worldwide.</p>
            </div>

            <!-- Interactive Trade Dashboard -->
            <div class="trade-dashboard">
                <!-- Main Trade Interface -->
                <div class="trade-main">
                    <!-- Swap Interface -->
                    <div class="swap-interface">
                        <div class="swap-header">
                            <div class="swap-title">
                                <i class="fas fa-exchange-alt"></i>
                                Swap Tokens
                            </div>
                        </div>

                        <!-- Sell Box -->
                        <div class="swap-box">
                            <div class="swap-box-header">
                                <span class="swap-label">You Sell</span>
                                <span class="balance">
                                    <i class="fas fa-wallet"></i>
                                    Balance: <span id="usdtBalance">1,000.00</span> USDT
                                </span>
                            </div>
                            <div class="token-input-row">
                                <input type="number" class="token-amount" id="sellAmount" placeholder="0.0" min="0" step="0.1">
                                <select class="token-selector" id="sellToken">
                                    <option>USDT</option>
                                </select>
                            </div>
                            <div class="percentage-buttons">
                                <button class="percent-btn" data-percent="25">25%</button>
                                <button class="percent-btn" data-percent="50">50%</button>
                                <button class="percent-btn" data-percent="75">75%</button>
                                <button class="percent-btn active" id="maxBtn">MAX</button>
                            </div>
                        </div>

                        <!-- Swap Arrow -->
                        <div class="swap-arrow">
                            <button class="swap-arrow-btn" id="switchTokens">
                                <i class="fas fa-arrow-down"></i>
                            </button>
                        </div>

                        <!-- Buy Box -->
                        <div class="swap-box">
                            <div class="swap-box-header">
                                <span class="swap-label">You Buy</span>
                                <span class="balance">
                                    <i class="fas fa-wallet"></i>
                                    Balance: <span id="nightzBalance">253.00</span> NIGHTZ
                                </span>
                            </div>
                            <div class="token-input-row">
                                <input type="number" class="token-amount" id="buyAmount" placeholder="0.0" readonly>
                                <select class="token-selector" id="buyToken">
                                    <option>NIGHTZ</option>
                                </select>
                            </div>
                        </div>

                        <!-- Swap Details -->
                        <div class="swap-details">
                            <div class="detail-row">
                                <span class="detail-label">Exchange Rate</span>
                                <span class="detail-value">1 USDT = 5.00 NIGHTZ</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Fee (1%)</span>
                                <span class="detail-value" id="feeAmount">0.00 NIGHTZ</span>
                            </div>
                            <div class="detail-row">
                                <span class="detail-label">Minimum Received</span>
                                <span class="detail-value" id="minReceived">0.00 NIGHTZ</span>
                            </div>
                        </div>

                        <!-- Success Message -->
                        <div class="success-message" id="swapSuccessMessage">
                            <i class="fas fa-check-circle"></i> Trade executed successfully!
                        </div>

                        <!-- Swap Button -->
                        <button class="swap-button" id="swapButton">
                            <i class="fas fa-exchange-alt"></i> Enter Amount to Swap
                        </button>
                    </div>
                </div>

                <!-- Trade Sidebar -->
                <div class="trade-sidebar">
                    <!-- Portfolio Card -->
                    <div class="portfolio-card">
                        <div class="portfolio-header">
                            <div class="portfolio-title">Your Portfolio</div>
                            <i class="fas fa-chart-line" style="color: var(--primary-blue);"></i>
                        </div>
                        <div class="portfolio-value">$12,458.32</div>
                        <div class="token-list">
                            <div class="token-item">
                                <div class="token-info">
                                    <div class="token-icon">U</div>
                                    <div class="token-details">
                                        <div class="token-name">USDT</div>
                                        <div class="token-balance" id="sidebarUsdtBalance">1,000.00 USDT</div>
                                    </div>
                                </div>
                                <div class="token-value">$1,000.00</div>
                            </div>
                            <div class="token-item">
                                <div class="token-info">
                                    <div class="token-icon">N</div>
                                    <div class="token-details">
                                        <div class="token-name">NIGHTZ</div>
                                        <div class="token-balance" id="sidebarNightzBalance">253.00 NIGHTZ</div>
                                    </div>
                                </div>
                                <div class="token-value">$1,265.00</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Enhanced Transaction History -->
            <div class="transaction-history">
                <div class="history-header">
                    <div class="history-title">
                        <i class="fas fa-history"></i>
                        Transaction History
                    </div>
                </div>
                <table class="history-table">
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Amount</th>
                            <th>Value</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody id="historyBody">
                        <tr>
                            <td>
                                <div class="tx-type">
                                    <i class="fas fa-exchange-alt" style="color: var(--primary-blue);"></i>
                                    Swap
                                </div>
                            </td>
                            <td>
                                <div class="tx-amount tx-negative">-1,000 USDT</div>
                                <div class="tx-amount tx-positive">+5,000 NIGHTZ</div>
                            </td>
                            <td>$5,000.00</td>
                            <td class="tx-date">1 day ago</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <!-- Explore Page -->
    <section id="explore-page" class="page">
        <div class="main-container">
            <div class="explore-hero">
                <h1>Explore Luxury Properties</h1>
                <p>Discover and invest in tokenized luxury stays around the world</p>
            </div>

            <div class="properties-grid">
                <!-- Property 1 -->
                <div class="property-card" data-property="beachfront">
                    <div class="property-image">Beachfront Villa</div>
                    <div class="property-content">
                        <h3>Beachfront Villa</h3>
                        <p style="color: var(--text-muted); margin: 0.5rem 0;">Malibu, USA</p>
                        <p style="font-size: 0.9rem; margin-bottom: 1rem;">Luxury beachfront property with private access and stunning ocean views.</p>
                        <div class="property-actions">
                            <button class="property-btn" data-action="book">
                                <i class="fas fa-calendar"></i> Book
                            </button>
                            <button class="property-btn primary" data-action="trade">
                                <i class="fas fa-exchange-alt"></i> Trade
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Property 2 -->
                <div class="property-card" data-property="casa-akaw">
                    <div class="property-image">Casa Akaw</div>
                    <div class="property-content">
                        <h3>Casa Akaw</h3>
                        <p style="color: var(--text-muted); margin: 0.5rem 0;">La Saladita, Mexico</p>
                        <p style="font-size: 0.9rem; margin-bottom: 1rem;">Modern beach house designed for surf enthusiasts with panoramic ocean views.</p>
                        <div class="property-actions">
                            <button class="property-btn" data-action="book">
                                <i class="fas fa-calendar"></i> Book
                            </button>
                            <button class="property-btn primary" data-action="trade">
                                <i class="fas fa-exchange-alt"></i> Trade
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Property 3 -->
                <div class="property-card" data-property="hillside">
                    <div class="property-image">Hillside Villa</div>
                    <div class="property-content">
                        <h3>Hillside Villa</h3>
                        <p style="color: var(--text-muted); margin: 0.5rem 0;">Positano, Italy</p>
                        <p style="font-size: 0.9rem; margin-bottom: 1rem;">Cliffside villa with panoramic ocean views and private pool for luxury retreats.</p>
                        <div class="property-actions">
                            <button class="property-btn" data-action="book">
                                <i class="fas fa-calendar"></i> Book
                            </button>
                            <button class="property-btn primary" data-action="trade">
                                <i class="fas fa-exchange-alt"></i> Trade
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pool Page -->
    <section id="pool-page" class="page">
        <div class="main-container">
            <div class="pool-hero">
                <h1>Provide Liquidity</h1>
                <p>Add liquidity to trading pairs and earn fees from trades</p>
            </div>

            <div class="pool-interface">
                <h2 style="margin-bottom: 1.5rem;">Create Liquidity Pool</h2>
                
                <div class="pool-inputs">
                    <div class="pool-box">
                        <div style="color: var(--text-muted); margin-bottom: 0.5rem;">Token 1</div>
                        <select class="token-selector" style="width: 100%; margin-bottom: 1rem;">
                            <option>USDT</option>
                        </select>
                        <input type="number" class="form-input" placeholder="0.0" id="poolToken1Amount">
                        <div style="color: var(--text-muted); font-size: 0.9rem; margin-top: 0.5rem;">Balance: 1,000.00 USDT</div>
                    </div>
                    
                    <div class="pool-box">
                        <div style="color: var(--text-muted); margin-bottom: 0.5rem;">Token 2</div>
                        <select class="token-selector" style="width: 100%; margin-bottom: 1rem;">
                            <option>NIGHTZ</option>
                        </select>
                        <input type="number" class="form-input" placeholder="0.0" id="poolToken2Amount">
                        <div style="color: var(--text-muted); font-size: 0.9rem; margin-top: 0.5rem;">Balance: 253.00 NIGHTZ</div>
                    </div>
                </div>

                <div class="pool-details">
                    <h3 style="margin-bottom: 1rem;">Pool Details</h3>
                    <div class="detail-row">
                        <span class="detail-label">Pool Share</span>
                        <span class="detail-value">0%</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">LP Tokens</span>
                        <span class="detail-value">0</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Estimated APR</span>
                        <span class="detail-value">12-18%</span>
                    </div>
                </div>

                <!-- Success Message -->
                <div class="success-message" id="poolSuccessMessage">
                    <i class="fas fa-check-circle"></i> Liquidity pool created successfully!
                </div>

                <button class="swap-button" id="createPoolBtn">
                    <i class="fas fa-plus-circle"></i> Create Pool
                </button>
            </div>
        </div>
    </section>

    <!-- Book Page -->
    <section id="book-page" class="page">
        <div class="main-container">
            <div class="book-hero">
                <h1>Book Your Stay</h1>
                <p>Redeem your NIGHTZ tokens for luxury accommodations</p>
            </div>

            <div class="booking-flow">
                <!-- Property Details -->
                <div class="property-details">
                    <div class="property-image" style="border-radius: 12px; margin-bottom: 1.5rem;">Casa Akaw</div>
                    <h3 id="bookPropertyName">Casa Akaw</h3>
                    <p style="color: var(--text-muted); margin-bottom: 1.5rem;" id="bookPropertyLocation">La Saladita, Mexico</p>
                    
                    <div style="margin-bottom: 1.5rem;">
                        <h4 style="margin-bottom: 1rem;">Amenities</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem;">
                            <div><i class="fas fa-user"></i> 2 guests</div>
                            <div><i class="fas fa-bed"></i> 1 room</div>
                            <div><i class="fas fa-bed"></i> 1 queen bed</div>
                            <div><i class="fas fa-bath"></i> 1 bath</div>
                            <div><i class="fas fa-swimming-pool"></i> Pool</div>
                            <div><i class="fas fa-wifi"></i> WiFi</div>
                        </div>
                    </div>
                    
                    <div>
                        <h4 style="margin-bottom: 1rem;">Description</h4>
                        <p style="color: var(--text-muted); font-size: 0.9rem;">
                            This exclusive beach house offers stunning ocean views, a private terrace, and luxury amenities designed for unforgettable stays.
                        </p>
                    </div>
                </div>

                <!-- Booking Form -->
                <div class="booking-form">
                    <h3 style="margin-bottom: 1.5rem;">Booking Details</h3>
                    
                    <div class="form-group">
                        <label class="form-label">Dates</label>
                        <div class="date-inputs">
                            <div>
                                <div style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 0.5rem;">Check in</div>
                                <input type="date" class="form-input" id="checkInDate">
                            </div>
                            <div>
                                <div style="color: var(--text-muted); font-size: 0.9rem; margin-bottom: 0.5rem;">Check out</div>
                                <input type="date" class="form-input" id="checkOutDate">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Guests</label>
                        <select class="form-input" id="guestCount">
                            <option>1 guest</option>
                            <option selected>2 guests</option>
                            <option>3 guests</option>
                            <option>4 guests</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Name</label>
                        <input type="text" class="form-input" id="guestName" placeholder="Your full name">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="guestEmail" placeholder="Your email address">
                    </div>
                    
                    <div class="detail-row" style="margin: 1.5rem 0;">
                        <span class="detail-label">Cost</span>
                        <span class="detail-value">50 NIGHTZ</span>
                    </div>
                    
                    <!-- Success Message -->
                    <div class="success-message" id="bookingSuccessMessage">
                        <i class="fas fa-check-circle"></i> Booking confirmed successfully!
                    </div>

                    <button class="swap-button" id="confirmBookingBtn">
                        <i class="fas fa-lock"></i> Confirm Booking
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Demo Indicator -->
    <div class="demo-indicator">
        <i class="fas fa-flask"></i>
        Interactive Demo
    </div>

    <script>
        // Enhanced State Management with Fake Data
        let isConnected = false;
        let walletAddress = '';
        
        // Enhanced fake data with more realistic values
        const state = {
            balances: {
                USDT: 1000.00,
                NIGHTZ: 253.00
            },
            portfolioValue: 12458.32,
            transactions: [
                { type: 'swap', from: 'USDT', to: 'NIGHTZ', fromAmount: 1000, toAmount: 5000, value: 5000, date: '1 day ago' }
            ],
            currentBooking: null
        };

        // DOM Elements
        const connectWalletBtn = document.getElementById('connectWallet');
        const swapButton = document.getElementById('swapButton');
        const sellAmount = document.getElementById('sellAmount');
        const buyAmount = document.getElementById('buyAmount');
        const maxBtn = document.getElementById('maxBtn');
        const usdtBalance = document.getElementById('usdtBalance');
        const nightzBalance = document.getElementById('nightzBalance');
        const sidebarUsdtBalance = document.getElementById('sidebarUsdtBalance');
        const sidebarNightzBalance = document.getElementById('sidebarNightzBalance');
        const swapSuccessMessage = document.getElementById('swapSuccessMessage');
        const feeAmount = document.getElementById('feeAmount');
        const minReceived = document.getElementById('minReceived');
        const switchTokens = document.getElementById('switchTokens');
        const historyBody = document.getElementById('historyBody');
        const percentButtons = document.querySelectorAll('.percent-btn');
        const createPoolBtn = document.getElementById('createPoolBtn');
        const poolSuccessMessage = document.getElementById('poolSuccessMessage');
        const confirmBookingBtn = document.getElementById('confirmBookingBtn');
        const bookingSuccessMessage = document.getElementById('bookingSuccessMessage');
        const navLinks = document.querySelectorAll('.nav-link');
        const pages = document.querySelectorAll('.page');
        const propertyButtons = document.querySelectorAll('.property-btn');
        
        // Navigation System
        navLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetPage = link.getAttribute('data-page');
                
                // Update active nav link
                navLinks.forEach(nav => nav.classList.remove('active'));
                link.classList.add('active');
                
                // Show target page
                pages.forEach(page => page.classList.remove('active'));
                document.getElementById(`${targetPage}-page`).classList.add('active');
                
                showToast(`Navigated to ${targetPage.charAt(0).toUpperCase() + targetPage.slice(1)}`, 'success');
            });
        });
        
        // Enhanced Wallet Connection
        connectWalletBtn.addEventListener('click', () => {
            if (!isConnected) {
                // Simulate wallet connection
                isConnected = true;
                walletAddress = '0xb195...F2f2';
                connectWalletBtn.innerHTML = `
                    <span class="connected-address">
                        <span class="network-indicator"></span>
                        ${walletAddress}
                    </span>
                `;
                
                // Enable trading functionality
                swapButton.disabled = false;
                sellAmount.disabled = false;
                createPoolBtn.disabled = false;
                confirmBookingBtn.disabled = false;
                
                showToast('Wallet connected successfully! All features are now enabled.', 'success');
                updateUI();
            } else {
                // Disconnect
                isConnected = false;
                walletAddress = '';
                connectWalletBtn.innerHTML = `
                    <i class="fas fa-wallet"></i>
                    Connect
                `;
                
                // Disable trading functionality
                swapButton.disabled = true;
                sellAmount.disabled = true;
                createPoolBtn.disabled = true;
                confirmBookingBtn.disabled = true;
                swapButton.textContent = 'Connect Wallet to Swap';
                
                showToast('Wallet disconnected', 'warning');
                updateUI();
            }
        });
        
        // Enhanced Percentage Buttons
        percentButtons.forEach(btn => {
            btn.addEventListener('click', function() {
                // Remove active class from all buttons
                percentButtons.forEach(b => b.classList.remove('active'));
                // Add active class to clicked button
                this.classList.add('active');
                
                if (!isConnected) {
                    showToast('Please connect your wallet first', 'warning');
                    return;
                }
                
                if (this.id === 'maxBtn') {
                    // MAX button
                    const maxAmount = state.balances.USDT;
                    sellAmount.value = maxAmount.toFixed(2);
                } else {
                    // Percentage buttons
                    const percent = parseInt(this.dataset.percent) / 100;
                    const maxAmount = state.balances.USDT;
                    const amount = maxAmount * percent;
                    sellAmount.value = amount.toFixed(2);
                }
                
                calculateSwap();
            });
        });
        
        // Enhanced Swap Calculation
        sellAmount.addEventListener('input', calculateSwap);
        
        function calculateSwap() {
            if (!isConnected) return;
            
            const sellValue = parseFloat(sellAmount.value) || 0;
            
            if (sellValue > state.balances.USDT) {
                swapButton.disabled = true;
                swapButton.innerHTML = '<i class="fas fa-exclamation-triangle"></i> Insufficient Balance';
                buyAmount.value = '';
                feeAmount.textContent = '0.00 NIGHTZ';
                minReceived.textContent = '0.00 NIGHTZ';
                return;
            }
            
            if (sellValue === 0) {
                swapButton.disabled = true;
                swapButton.innerHTML = '<i class="fas fa-exchange-alt"></i> Enter Amount to Swap';
                buyAmount.value = '';
                feeAmount.textContent = '0.00 NIGHTZ';
                minReceived.textContent = '0.00 NIGHTZ';
                return;
            }
            
            // Calculate swap (1 USDT = 5 NIGHTZ with 1% fee)
            const buyValue = sellValue * 5;
            const fee = buyValue * 0.01;
            const received = buyValue - fee;
            
            buyAmount.value = received.toFixed(2);
            feeAmount.textContent = `${fee.toFixed(2)} NIGHTZ`;
            minReceived.textContent = `${received.toFixed(2)} NIGHTZ`;
            
            swapButton.disabled = false;
            swapButton.innerHTML = `<i class="fas fa-exchange-alt"></i> Swap ${sellValue} USDT for ${received.toFixed(2)} NIGHTZ`;
        }
        
        // Enhanced Execute Swap
        swapButton.addEventListener('click', () => {
            if (!isConnected || swapButton.disabled) return;
            
            const sellValue = parseFloat(sellAmount.value);
            const buyValue = parseFloat(buyAmount.value);
            
            // Update balances
            state.balances.USDT -= sellValue;
            state.balances.NIGHTZ += buyValue;
            
            // Add to transaction history
            state.transactions.unshift({
                type: 'swap',
                from: 'USDT',
                to: 'NIGHTZ',
                fromAmount: sellValue,
                toAmount: buyValue,
                value: buyValue * 5, // Assuming 1 NIGHTZ = $5
                date: 'Just now'
            });
            
            // Update UI
            updateUI();
            
            // Show enhanced success
            swapButton.classList.add('pulse', 'success');
            swapButton.innerHTML = '<i class="fas fa-check-circle"></i> Swap Successful!';
            swapSuccessMessage.style.display = 'block';
            
            // Show toast notification
            showToast(`Successfully swapped ${sellValue} USDT for ${buyValue} NIGHTZ`, 'success');
            
            // Reset after delay
            setTimeout(() => {
                sellAmount.value = '';
                buyAmount.value = '';
                swapButton.classList.remove('pulse', 'success');
                swapButton.innerHTML = '<i class="fas fa-exchange-alt"></i> Enter Amount to Swap';
                swapButton.disabled = true;
                swapSuccessMessage.style.display = 'none';
                feeAmount.textContent = '0.00 NIGHTZ';
                minReceived.textContent = '0.00 NIGHTZ';
                
                // Reset percentage buttons
                percentButtons.forEach(b => b.classList.remove('active'));
                maxBtn.classList.add('active');
            }, 3000);
        });
        
        // Switch Tokens
        switchTokens.addEventListener('click', () => {
            showToast('Token switching functionality ready for implementation', 'success');
        });
        
        // Create Pool
        createPoolBtn.addEventListener('click', () => {
            if (!isConnected) {
                showToast('Please connect your wallet first', 'warning');
                return;
            }
            
            const token1Amount = document.getElementById('poolToken1Amount').value;
            const token2Amount = document.getElementById('poolToken2Amount').value;
            
            if (!token1Amount || !token2Amount || parseFloat(token1Amount) === 0 || parseFloat(token2Amount) === 0) {
                showToast('Please enter amounts for both tokens', 'warning');
                return;
            }
            
            // Simulate pool creation
            createPoolBtn.classList.add('pulse');
            createPoolBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Creating Pool...';
            
            setTimeout(() => {
                poolSuccessMessage.style.display = 'block';
                createPoolBtn.classList.remove('pulse');
                createPoolBtn.innerHTML = '<i class="fas fa-check-circle"></i> Pool Created!';
                
                showToast('Liquidity pool created successfully!', 'success');
                
                // Reset after delay
                setTimeout(() => {
                    createPoolBtn.innerHTML = '<i class="fas fa-plus-circle"></i> Create Pool';
                    poolSuccessMessage.style.display = 'none';
                    document.getElementById('poolToken1Amount').value = '';
                    document.getElementById('poolToken2Amount').value = '';
                }, 3000);
            }, 1500);
        });
        
        // Property Actions
        propertyButtons.forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                const action = this.getAttribute('data-action');
                const propertyCard = this.closest('.property-card');
                const propertyName = propertyCard.querySelector('h3').textContent;
                const propertyLocation = propertyCard.querySelector('p').textContent;
                
                if (action === 'book') {
                    // Navigate to book page with this property
                    navLinks.forEach(nav => nav.classList.remove('active'));
                    document.querySelector('.nav-link[data-page="book"]').classList.add('active');
                    
                    pages.forEach(page => page.classList.remove('active'));
                    document.getElementById('book-page').classList.add('active');
                    
                    // Set the property in the booking form
                    document.getElementById('bookPropertyName').textContent = propertyName;
                    document.getElementById('bookPropertyLocation').textContent = propertyLocation;
                    
                    showToast(`Booking ${propertyName}`, 'success');
                } else if (action === 'trade') {
                    // Navigate to trade page
                    navLinks.forEach(nav => nav.classList.remove('active'));
                    document.querySelector('.nav-link[data-page="trade"]').classList.add('active');
                    
                    pages.forEach(page => page.classList.remove('active'));
                    document.getElementById('trade-page').classList.add('active');
                    
                    showToast(`Trading ${propertyName} tokens`, 'success');
                }
            });
        });
        
        // Confirm Booking
        confirmBookingBtn.addEventListener('click', () => {
            if (!isConnected) {
                showToast('Please connect your wallet to confirm booking', 'warning');
                return;
            }
            
            const checkIn = document.getElementById('checkInDate').value;
            const checkOut = document.getElementById('checkOutDate').value;
            const guestName = document.getElementById('guestName').value;
            const guestEmail = document.getElementById('guestEmail').value;
            
            if (!checkIn || !checkOut || !guestName || !guestEmail) {
                showToast('Please fill in all booking details', 'warning');
                return;
            }
            
            if (state.balances.NIGHTZ < 50) {
                showToast('Insufficient NIGHTZ tokens for booking', 'warning');
                return;
            }
            
            // Simulate booking confirmation
            confirmBookingBtn.classList.add('pulse');
            confirmBookingBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Confirming...';
            
            setTimeout(() => {
                // Deduct NIGHTZ tokens
                state.balances.NIGHTZ -= 50;
                
                bookingSuccessMessage.style.display = 'block';
                confirmBookingBtn.classList.remove('pulse');
                confirmBookingBtn.innerHTML = '<i class="fas fa-check-circle"></i> Booking Confirmed!';
                
                // Create booking object
                state.currentBooking = {
                    property: document.getElementById('bookPropertyName').textContent,
                    location: document.getElementById('bookPropertyLocation').textContent,
                    checkIn: checkIn,
                    checkOut: checkOut,
                    guests: document.getElementById('guestCount').value
                };
                
                showToast('Booking confirmed successfully! 50 NIGHTZ tokens redeemed.', 'success');
                updateUI();
                
                // Reset after delay
                setTimeout(() => {
                    confirmBookingBtn.innerHTML = '<i class="fas fa-lock"></i> Confirm Booking';
                    bookingSuccessMessage.style.display = 'none';
                    
                    // Clear form
                    document.getElementById('checkInDate').value = '';
                    document.getElementById('checkOutDate').value = '';
                    document.getElementById('guestName').value = '';
                    document.getElementById('guestEmail').value = '';
                }, 3000);
            }, 2000);
        });
        
        // Utility Functions
        function updateUI() {
            // Update balances
            usdtBalance.textContent = state.balances.USDT.toFixed(2);
            nightzBalance.textContent = state.balances.NIGHTZ.toFixed(2);
            sidebarUsdtBalance.textContent = `${state.balances.USDT.toFixed(2)} USDT`;
            sidebarNightzBalance.textContent = `${state.balances.NIGHTZ.toFixed(2)} NIGHTZ`;
            
            // Update transaction history
            updateTransactionHistory();
        }
        
        function updateTransactionHistory() {
            historyBody.innerHTML = '';
            
            state.transactions.forEach(tx => {
                const row = document.createElement('tr');
                
                let typeIcon, typeColor;
                if (tx.type === 'swap') {
                    typeIcon = 'fa-exchange-alt';
                    typeColor = 'var(--primary-blue)';
                } else {
                    typeIcon = 'fa-home';
                    typeColor = 'var(--accent)';
                }
                
                row.innerHTML = `
                    <td>
                        <div class="tx-type">
                            <i class="fas ${typeIcon}" style="color: ${typeColor};"></i>
                            ${tx.type === 'swap' ? 'Swap' : 'Property Token'}
                        </div>
                    </td>
                    <td>
                        <div class="tx-amount tx-negative">-${tx.fromAmount} ${tx.from}</div>
                        <div class="tx-amount tx-positive">+${tx.toAmount} ${tx.to}</div>
                    </td>
                    <td>$${tx.value.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>
                    <td class="tx-date">${tx.date}</td>
                `;
                
                historyBody.appendChild(row);
            });
        }
        
        function showToast(message, type = 'success') {
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `
                <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-triangle'}"></i>
                <div>${message}</div>
            `;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 4000);
        }
        
        // Initialize
        updateUI();
        swapButton.disabled = true;
        sellAmount.disabled = true;
        createPoolBtn.disabled = true;
        confirmBookingBtn.disabled = true;
        
        // Set minimum dates for booking
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('checkInDate').min = today;
        document.getElementById('checkOutDate').min = today;
        
        // Add some interactive elements on load
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                showToast('Welcome to the Nightz Interactive Demo! Connect your wallet to enable all features.', 'success');
            }, 1000);
        });
    </script>
</body>
</html>
